@import "tailwindcss";

:root {
    --color-bg: #ffc0cb;
    --color-text: #000;
    --color-muted: #333;
    --color-border: #000;
    --color-card-bg: #fff;
    --color-link: #000;
    --color-link-hover: #333;
    --color-tag-bg: #000;
    --color-tag-text: #fff;
}

html {
    @apply scroll-smooth;
    font-size: 20px;
}

body {
    @apply leading-relaxed bg-[var(--color-bg)] text-[var(--color-text)];
    font-family: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
}

.container {
    @apply max-w-full mx-auto px-6 py-10 md:px-6 md:py-8 lg:px-6 lg:py-10;
}

.site-header {
    @apply mb-8 grid grid-cols-2;
}

.site-header h1 {
    @apply text-[6vw] font-bold tracking-tight mb-2 leading-[80%];
}

.title-source {
    font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
}

.byline {
    @apply text-base text-[var(--color-muted)] font-normal;
}

.intro {
    @apply my-10 max-w-prose text-base leading-relaxed sm:text-sm;
}

.intro p {
    @apply mb-4;
}

.intro ul {
    @apply my-5 pl-6 list-disc;
}

.intro li {
    @apply mb-2;
}

.filter-bar {
    @apply sticky top-0 bg-[var(--color-bg)] z-10 py-4 mb-6 border-[var(--color-border)];
}

.filter-header {
    @apply flex justify-between items-center mb-2;
}

.filter-label {
    @apply text-sm font-semibold uppercase tracking-wide;
}

.result-count {
    @apply text-sm font-semibold text-[var(--color-muted)];
}

.filter-tags {
    @apply flex flex-wrap gap-2;
}

.filter-tag {
    @apply inline-block px-3 py-1.5 bg-white text-[var(--color-text)] rounded-none border-2 border-[var(--color-border)] text-sm font-semibold transition-all duration-150 cursor-pointer hover:-translate-y-0.5;
}

.filter-tag.active {
    @apply bg-[var(--color-tag-bg)] text-[var(--color-tag-text)];
}

.tab-nav {
    @apply flex flex-wrap gap-2.5 my-10 sm:gap-2;
}

.tab-tag {
    @apply inline-block px-3.5 py-1.5 bg-[var(--color-tag-bg)] text-[var(--color-tag-text)] rounded-none border-2 border-[var(--color-border)] no-underline text-sm font-semibold transition-transform duration-150 hover:-translate-y-0.5 sm:text-xs sm:px-3 sm:py-1.5;
}

.tab-section {
    @apply mb-16 scroll-mt-8;
}

.tab-title {
    @apply text-4xl font-bold mb-6 md:text-3xl sm:text-2xl;
}

.cards {
    @apply grid gap-6 md:gap-4;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    grid-auto-rows: max-content;
    align-items: start;
}

@media (max-width: 768px) {
    .cards {
        grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    }
}

@media (max-width: 540px) {
    .cards {
        @apply grid-cols-1;
    }
}

.card {
    @apply border-2 border-[var(--color-border)] rounded-none p-4 bg-[var(--color-card-bg)] shadow-none transition-all duration-200 flex flex-col h-auto relative hover:-translate-y-0.5;
}

.field {
    @apply mb-3 last:mb-0;
}

.label {
    @apply text-xs tracking-wide text-[var(--color-muted)] uppercase font-semibold mb-0.5;
}

.value {
    @apply text-sm break-words;
}

.external-link {
    @apply text-[var(--color-link)] no-underline font-medium border-b border-transparent transition-all duration-200 hover:text-[var(--color-link-hover)] hover:border-[var(--color-link-hover)];
}

.external-link::after {
    content: " â†—";
    @apply text-xs opacity-70;
}

.card-image {
    @apply w-full mb-4 border-2 border-[var(--color-border)] aspect-video bg-[var(--color-border)];
}

.card-image img {
    @apply w-full h-full object-cover block;
}

.card-title {
    @apply text-2xl font-bold mb-3 leading-tight md:text-xl;
}

.card-subtitle {
    @apply text-base text-[var(--color-muted)] mb-2 font-medium;
}

.card-author {
    @apply text-sm text-[var(--color-muted)] mb-3;
}

.card-notes {
    @apply text-sm leading-relaxed;
}

.notes-full {
    @apply whitespace-pre-wrap leading-relaxed;
}

.notes-preview {
    @apply whitespace-pre-wrap leading-relaxed;
}

.title-link {
    @apply text-[var(--color-text)] no-underline border-b-2 border-[var(--color-link)] transition-all duration-200 hover:text-[var(--color-link)] hover:border-[var(--color-link-hover)];
}

.tags {
    @apply flex flex-wrap gap-1.5 mb-3.5;
}

.tag {
    @apply inline-block px-2.5 py-1 bg-[var(--color-tag-bg)] text-[var(--color-tag-text)] rounded-none border border-[var(--color-border)] text-xs font-semibold capitalize;
}

.error {
    @apply text-red-700 font-semibold p-3 bg-red-50 rounded-md border-l-4 border-red-700;
}

/* View Toggle Button */
.view-toggle {
    @apply absolute top-0 right-0 z-50 px-4 py-2 bg-[var(--color-tag-bg)] text-[var(--color-tag-text)] border-2 border-[var(--color-border)] font-semibold text-sm cursor-pointer transition-all duration-150 hover:-translate-y-0.5;
}

.network-canvas {
    @apply absolute inset-0 w-full h-full;
    z-index: 5;
}

.network-container {
    @apply absolute inset-0 w-full h-full;
    z-index: 10;
    pointer-events: none;
}

.network-card {
    @apply absolute;
    width: 280px;
    cursor: grab;
    pointer-events: auto;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.network-card .card-image img {
    transition: filter 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.network-card.faded {
    opacity: 0.05;
}

.network-card.faded .card-image img {
    filter: grayscale(100%);
}

.network-card:active {
    cursor: grabbing;
}

.network-card .card {
    @apply max-h-none;
    height: auto;
}

.network-card .card .card-notes {
    display: none;
}

.network-card .card .tags {
    display: none;
}

.affordance-node {
    @apply absolute flex items-center justify-center;
    width: 250px;
    height: 200px;
    border-radius: 50%;
    background: #fff;
    color: #000;
    font-weight: bold;
    font-size: 28px;
    text-align: center;
    cursor: grab;
    border: 4px solid #000;
    z-index: 10;
    pointer-events: auto;
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translate(-50%, -50%);
    transform-origin: center;
}

.affordance-node:active {
    cursor: grabbing;
}

.affordance-node.faded {
    opacity: 0.05;
}

.affordance-node.highlighted {
    background: #000;
    color: #fff;
}

.affordance-label {
    @apply px-2;
    word-break: break-word;
}

.network-link {
    transition: stroke-width 0.4s cubic-bezier(0.4, 0, 0.2, 1), stroke-opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.network-link.highlighted {
    stroke-width: 4;
    stroke-opacity: 0.8;
}

.network-link.faded {
    stroke-opacity: 0.02;
}